{
	// -----------------
	// MARK: Main window

	MainWindow:
	{
		nsClass: GXWindow,
		gxWindowTitle: "Loopback",
		gxCanFullScreen: true,
		gxWindowMaxSize: "1800, 2000",
		gxWindowMinSize: "1000, 500",
		gxInitialWindowSize: "1200, 540",
		gxInitialWindowPosition: "0.5, 0.22",
		gxBackColor: "name:deviceListBg",
		gxSavedWindowStateKey: "mainWindow",
		gxContentView: MainWindowContentView
	},
	
	// ------------------
	// MARK: Trail button

	TrialButton:
	{
		nsClass: GXButtonView,
		gxViewName: "trialModeButton",
		gxValueKeyPath: "trialBtn",
		gxHideOnNilValue: true,
		gxBackPainter: TrialButtonBack,
		gxForePainter: TrialButtonFore.size115,
		gxToolTip: "Loopback is currently in trial mode - click to learn more",
		gxTitle: "\u26A0\uFE0F Trial Mode",
		gxLayout: [ "H:[self(86)]-30-|", "V:|-(-1)-[self(19)]"]
	},
	
	TrialButtonBack:
	{
		nsClass: GXRoundRectPainter,
		gxCornerRadii: "0, 0, 3, 3",
		gxFillColor: "name:selection",
		gxHiliteColor: "name:selection",
		pressed:
		{
			gxFillColor: "name:darkSelection",
			gxHiliteColor: "name:darkSelection",
		}
	},
	
	TrialButtonFore:
	{
		+: ControlFore,
		gxEdgeInsets: "2, 1, 2, 0",
		gxFontColor: "name:white",
		pressed: { gxFontColor: "name:white" },
	},
	
	// ------------------------------
	// MARK: Main window content view
	
	MainWindowContentView:
	{
		nsClass: GXSettingsView,
		gxCanDrawSubviewsIntoLayer: true,
		gxWantsLayer: true,
		gxLayout: [
			"H:|[deviceListPane(265)]-0-[divider]-0-[titleBarView]|",
			"H:[divider]-0-[deviceEditorView]|",
			"H:[divider]-0-[homeEditorView]|",
			"V:|[titleBarView]-0-[deviceListPane]|",
			"V:[titleBarView]-0-[deviceEditorView]|",
			"V:[titleBarView]-0-[homeEditorView]|"
		],
		gxChildViews:
		{
			titleBarView:   // this must be present, with this name, to turn off the standard titlebar
			{
				nsClass: GXDrawView,
				gxBackPainter: FillBack.deviceEditorBgColor,
				gxIntrinsicWidth: -1,
				gxLayout: [
					"H:[self]",
					"H:[center]-(-175)-[icon]-6-[title]",
					"V:[self]-(<=0)-[center]&alignCenterX",		// center horizontally trick
					"V:|-0-[self(23)]",
				],
				gxChildViews:
				{
					center:	// hack to get center position reference
					{
						nsClass: GXDrawView,
						gxLayout: [ "H:[self(1)]", "V:|[self]|" ],
						gxIntrinsicWidth: -1,
					},
					icon:
					{
						+: ImageView,
						gxValueKeyPath: "appIcon",
						gxLayout: [ "H:[self(16)]", "V:|-5-[self(16)]" ],
					},
					title:
					{
						+: LabelView.bold,
						gxLayout: [ "H:[self]", "V:|-1-[self(22)]" ],
						gxDefaultValue: "Loopback",
					},
					trialButton:
					{
						+: TrialButton
					}
				}
			},
			deviceListPane:
			{
				+: DeviceListPane,
			},
			divider:
			{
				nsClass: GXDrawView,
				gxLayout: [ "H:[self(1)]", "V:|[self]|" ],
				gxBackPainter: FillBack.devicePaneDividerColor
			},
			deviceEditorView:
			{
				+: DeviceEditorView,
			},
			homeEditorView:
			{
				nsClass: GXDrawView,
				gxWantsLayer: true,
				gxBackPainter: FillBack.deviceEditorBgColor,
				gxIntrinsicWidth: -1,
			}
		}
	}
}
