{
	// -----------------
	// MARK: Source view
	
	SourceView:
	{
		+: TileView,
		nsClass: LBTileSourceView,
		channelViewKey: "SourceChannelView",
		patchboardColumn: 0,				// 1st column in the patchboard
		gxLayout: [
			"H:[self(208)]",
			"H:|-13-[name]-8-[onoff]-13-|",
			"H:|-14-[icon]-8-[channelsView]-13-|",
			"V:|-11-[name]",
			"V:|-11-[onoff]",
			"V:|-33-[missingDeviceView(25)]",
			"V:[dividerTop]-11-[icon]",
			"V:[dividerTop]-10-[channelsView(>=52)]-8-[dividerBottom]-1-[optionsView]-4-|",
		],
		gxChildViews:
		{
			missingDeviceView:
			{
				+: MissingDeviceView
			},
			name:
			{
				+: LabelView.left.darkTextColor.bold.size13,
				gxDisableOnKey: "disabled",
				gxForePainter:
				{
					+: LabelFore,
					disabled: { gxFontColor: "name:darkTextDisabled" }
				},
				gxValueKeyPath: "displayName"
			},
			onoff:
			{
				+: OnOffSwitchView,
				axHelp: "Turn this source on or off"
			},
			icon:
			{
				+: ImageView,
				gxLayout: [ "H:[self(48)]", "V:[self(48)]" ],
				gxValueKeyPath: "icon",
				scaleToFit: YES
			},
			dividerTop:
			{
				nsClass: GXDrawView,
				gxLayout: [ "H:|-3-[self]-3-|", "V:[self(1)]" ],	// inset is tileSelectionWidth
				gxBackPainter:
				{
					nsClass: GXPainter,
					gxEdgeInsets: "1, 0, 1, .5",
					gxFillColor: "name:tileDivider"
				}
			},
			channelsView:
			{
				nsClass: "GXListView",
				gxTitle: "Source Channels",
				axHelp: "List of source channels",
			},
			dividerBottom:
			{
				nsClass: GXDrawView,
				gxLayout: [ "H:|-3-[self]-3-|", "V:[self(1)]" ],	// inset is tileSelectionWidth
				gxBackPainter:
				{
					nsClass: GXPainter,
					gxEdgeInsets: "1, 0, 1, .5",
					gxFillColor: "name:tileDivider"
				}
			},
			optionsView:
			{
				+: TileOptionsView,
				gxValueKeyPath: "collapsed",
				axTitle: "Options",
				gxLayout: [
					"H:|-4-[self]-4-|",				// inset of 4 is 1 (frame) + tileSelectionWidth
					"H:|[contentView]|",
					"V:[self(>=24)]",
					"V:|-3-[headerView]-0-[contentView]"
				],
				gxChildViews:
				{
					headerView:
					{
						+: TileOptionsHeader,
					},
					contentView:
					{
						nsClass: GXDrawView,
						gxLayout: [
							"H:|-15-[volumeIndicator(16)]-8-[volumeSlider]-2-[volumeReadout(32)]-9-|&alignCenterY",
							"V:|-5-[volumeIndicator]",
							"V:[self(30)]"
						],
						gxChildViews:
						{
							volumeIndicator:
							{
								+: VolumeIndicatorView,
								axHelp: "Mutes the source",
								lbDisableUIOnKey: "disabled"
							},
							volumeSlider:
							{
								+: VolumeSliderView,
								axHelp: "Adjusts the source volume",
								lbDisableUIOnKey: "disabled"
							},
							volumeReadout:
							{
								+: LabelView.right.size11,
								gxDisableOnKey: "disabled",
								gxForePainter:
								{
									+: LabelFore,
									gxFontColor: "name:darkText",
									disabled: { gxFontColor: "name:darkTextDisabled" }
								},
								gxValueKeyPath: "volumeForReadout"
							}
						}
					}
				}
			}
		}
	},
	
	// -----------------------------
	// MARK: Source application view
	
	SourceApplicationView:
	{
		+: TileView,
		nsClass: LBTileSourceView,
		channelViewKey: "SourceChannelView",
		patchboardColumn: 0,				// 1st column in the patchboard
		gxLayout: [
			"H:[self(208)]",
			"H:|-13-[name]-8-[onoff]-13-|",
			"H:|-14-[icon]-8-[channelsView]-13-|",
			"V:|-11-[name]",
			"V:|-11-[onoff]",
			"V:|-44-[icon]",
			"V:|-33-[dividerTop]-10-[channelsView(>=52)]-8-[dividerBottom]-1-[optionsView]-4-|",
		],
		gxChildViews:
		{
			name:
			{
				+: LabelView.left.darkTextColor.bold.size13,
				gxDisableOnKey: "disabled",
				gxForePainter:
				{
					+: LabelFore,
					disabled: { gxFontColor: "name:darkTextDisabled" }
				},
				gxValueKeyPath: "displayName"
			},
			onoff:
			{
				+: OnOffSwitchView,
				axHelp: "Turn this source on or off"
			},
			icon:
			{
				+: ImageView,
				gxLayout: [ "H:[self(48)]", "V:[self(48)]" ],
				gxValueKeyPath: "icon",
				scaleToFit: YES
			},
			dividerTop:
			{
				nsClass: GXDrawView,
				gxLayout: [ "H:|-3-[self]-3-|", "V:[self(1)]" ],	// inset is tileSelectionWidth
				gxBackPainter:
				{
					nsClass: GXPainter,
					gxEdgeInsets: "1, 0, 1, .5",
					gxFillColor: "name:tileDivider"
				}
			},
			channelsView:
			{
				nsClass: "GXListView",
				gxTitle: "Source Channels",
				axHelp: "List of source channels",
			},
			dividerBottom:
			{
				nsClass: GXDrawView,
				gxLayout: [ "H:|-3-[self]-3-|", "V:[self(1)]" ],	// inset is tileSelectionWidth
				gxBackPainter:
				{
					nsClass: GXPainter,
					gxEdgeInsets: "1, 0, 1, .5",
					gxFillColor: "name:tileDivider"
				}
			},
			optionsView:
			{
				+: TileOptionsView,
				gxValueKeyPath: "collapsed",
				axTitle: "Options",
				gxLayout: [
					"H:|-4-[self]-4-|",				// inset of 4 is 1 (frame) + tileSelectionWidth
					"H:|[contentView]|",
					"V:[self(>=24)]",
					"V:|-3-[headerView]-0-[contentView]"
				],
				gxChildViews:
				{
					headerView:
					{
						+: TileOptionsHeader,
					},
					contentView:
					{
						nsClass: GXDrawView,
						gxLayout: [
							"H:|-19-[volumeIndicator(16)]-8-[volumeSlider]-2-[volumeReadout(32)]-9-|&alignCenterY",
							"H:|-17-[muteWhenCapturing]-12-|",
							"V:|-8-[muteWhenCapturing]-6-[volumeIndicator]",
							"V:[self(61)]"
						],
						gxChildViews:
						{
							muteWhenCapturing:
							{
								+: ButtonView,
								nsClass: LBGXButtonView,
								gxIconBaseName: "checkbox",
								gxTitle: "Mute when capturing",
								gxValueKeyPath: muteWhenCapturing,
								axCheckboxRole: true,
								gxBackPainter: nil,
								gxForePainter:
								{
									+: ControlFore.left,
									gxFontColor: "name:darkText",
									gxFontSize: 11.5,
									disabled:
									{
										gxFontColor: "name:darkTextDisabled",
									},
									on:      { gxFontColor: "name:darkText" },
									pressed: { gxFontColor: "name:darkText" }
								},
								lbDisableUIOnKey: "disabled"
							},
							volumeIndicator:
							{
								+: VolumeIndicatorView,
								axHelp: "Mutes the source",
								lbDisableUIOnKey: "disabled"
							},
							volumeSlider:
							{
								+: VolumeSliderView,
								axHelp: "Adjusts the source volume",
								lbDisableUIOnKey: "disabled"
							},
							volumeReadout:
							{
								+: LabelView.right.size11,
								gxDisableOnKey: "disabled",
								gxForePainter:
								{
									+: LabelFore,
									gxFontColor: "name:darkText",
									disabled: { gxFontColor: "name:darkTextDisabled" }
								},
								gxValueKeyPath: "volumeForReadout"
							}
						}
					}
				}
			}
		}
	},
	
	// ---------------------------
	// MARK: Source pass-thru view
	
	SourcePassThruView:
	{
		+: TileView,
		nsClass: LBTileSourceView,
		channelViewKey: "SourceChannelView",
		patchboardColumn: 0,				// 1st column in the patchboard
		gxLayout: [
			"H:[self(208)]",
			"H:|-13-[name]-8-[onoff]-13-|",
			"H:|-14-[icon]-8-[channelsView]-13-|",
			"V:|-11-[name]",
			"V:|-11-[onoff]",
			"V:|-44-[icon]",
			"V:|-33-[dividerTop]-10-[channelsView(>=52)]-8-[dividerBottom]-1-[optionsView]-4-|",
		],
		gxChildViews:
		{
			name:
			{
				+: LabelView.left.darkTextColor.bold.size13,
				gxDisableOnKey: "disabled",
				gxForePainter:
				{
					+: LabelFore,
					disabled: { gxFontColor: "name:darkTextDisabled" }
				},
				gxValueKeyPath: "displayName"
			},
			onoff:
			{
				+: OnOffSwitchView,
				axHelp: "Turn this source on or off"
			},
			icon:
			{
				+: ImageView,
				gxLayout: [ "H:[self(48)]", "V:[self(48)]" ],
				gxValueKeyPath: "icon",
				scaleToFit: YES
			},
			dividerTop:
			{
				nsClass: GXDrawView,
				gxLayout: [ "H:|-3-[self]-3-|", "V:[self(1)]" ],	// inset is tileSelectionWidth
				gxBackPainter:
				{
					nsClass: GXPainter,
					gxEdgeInsets: "1, 0, 1, .5",
					gxFillColor: "name:tileDivider"
				}
			},
			channelsView:
			{
				nsClass: "GXListView",
				gxTitle: "Source Channels",
				axHelp: "List of source channels",
			},
			dividerBottom:
			{
				nsClass: GXDrawView,
				gxLayout: [ "H:|-3-[self]-3-|", "V:[self(1)]" ],	// inset is tileSelectionWidth
				gxBackPainter:
				{
					nsClass: GXPainter,
					gxEdgeInsets: "1, 0, 1, .5",
					gxFillColor: "name:tileDivider"
				}
			},
			optionsView:
			{
				+: TileOptionsView,
				gxValueKeyPath: "collapsed",
				axTitle: "Options",
				gxLayout: [
					"H:|-4-[self]-4-|",				// inset of 4 is 1 (frame) + tileSelectionWidth
					"H:|[contentView]|",
					"V:[self(>=24)]",
					"V:|-3-[headerView]-0-[contentView]"
				],
				gxChildViews:
				{
					headerView:
					{
						+: TileOptionsHeader,
					},
					contentView:
					{
						nsClass: GXDrawView,
						gxLayout: [
							"H:|-15-[volumeIndicator(16)]-8-[volumeSlider]-2-[volumeReadout(32)]-9-|&alignCenterY",
							"H:|-14-[helpTextDescription]-10-|",
							"H:[helpTextButton(16)]-10-|",
							"V:|-5-[volumeIndicator]-10-[helpTextDescription(40)]-(-8)-[helpTextButton(16)]",
							"V:[self(88)]"
						],
						gxChildViews:
						{
							volumeIndicator:
							{
								+: VolumeIndicatorView,
								axHelp: "Mutes the source",
								lbDisableUIOnKey: "disabled"
							},
							volumeSlider:
							{
								+: VolumeSliderView,
								axHelp: "Adjusts the source volume",
								lbDisableUIOnKey: "disabled"
							},
							volumeReadout:
							{
								+: LabelView.right.size11,
								gxDisableOnKey: "disabled",
								gxForePainter:
								{
									+: LabelFore,
									gxFontColor: "name:darkText",
									disabled: { gxFontColor: "name:darkTextDisabled" }
								},
								gxValueKeyPath: "volumeForReadout"
							},
							helpTextDescription:
							{
								+: LabelView.left.top.size10.wrap,
								gxDefaultValue: "The Pass-Thru source enables other applications to send audio directly into this virtual device.",
								gxDisableOnKey: "disabled",
								gxForePainter:
								{
									+: LabelFore,
									disabled: { gxFontColor: "name:darkTextDisabled" },
								},
								gxValueKeyPath: ""
							},
							helpTextButton:
							{
								nsClass: GXButtonView,
								axTitle: "Click to learn more about Pass-Thru",
								gxForePainter:
								{
									+: ImagePainter,
									gxTintColor: "name:helpButtonTint",
									pressed: { gxTintColor: "name:helpButtonPressedTint" }
								},
								gxIconBaseName: "icon.learn.more",
								gxValueKeyPath: helpTextButton
							}
						}
					}
				}
			}
		}
	},
	
	// -------------------------
	// MARK: Source channel view
	
	SourceChannelView:
	{
		nsClass: LBChannelView,
		axDescriptionKeyPath: raAccessibilityValueDescription,
		axHelp: "VO press to create a wire to an output channel",
		axIsIgnored: false,
		axRoleDescription: "Channel",
		gxAlwaysUpdate: true,
		gxDisableOnKey: "enclosingTile.disabled",
		gxIntrinsicHeight: 20,
		gxLayout: [
			"H:|-0-[name(26)]",
			"H:[anchor]-0-|",
			"H:[name]-[activeMeter]-4-[anchor]",
			"H:[name]-[levelMeter]-4-[anchor]",
			"H:[self]-(<=0)-[name]&alignCenterY",
			"H:[self]-(<=0)-[activeMeter]&alignCenterY",
			"H:[self]-(<=0)-[levelMeter]&alignCenterY",
			"H:[self]-(<=0)-[anchor]&alignCenterY"
		],
		gxChildViews:
		{
			name:
			{
				+: LabelView.right.darkTextColor.size11,
				gxDisableOnKey: "enclosingTile.disabled",
				gxForePainter:
				{
					+: LabelFore,
					disabled: { gxFontColor: "name:darkTextDisabled" }
				},
				gxValueKeyPath: "name"
			},
			activeMeter:
			{
				+: ActiveMeter,
				gxLayout: [ "V:[self(8)]" ],
				gxAnimateOnKey: "enclosingTile.enabledForActiveMeter"
			},
			levelMeter:
			{
				+: LevelMeter,
				gxLayout: [ "V:[self(8)]" ],
				gxAnimateOnKey: "enclosingTile.enabledForLevelMeter"
			},
			anchor:
			{
				+: SocketView,
				gxDisableOnKey: "enclosingTile.disabled",
				gxValueKeyPath: "self",
				targetColumn: 2
			}
		}
	}
}
